/* * @(#)YoukuService.java	 2012-10-10 * * Copyright 2004-2012 Liuzhongnan.  * All rights reserved. *  * LiuZhongnan 81595157@126.com PROPRIETARY/CONFIDENTIAL. */package com.youku.login.service;import java.util.HashMap;import java.util.Map;import com.baseproject.utils.Logger;import com.youku.login.network.HttpRequestManager;import com.youku.login.network.IHttpRequest;import com.youku.login.util.Youku;/** * @Description: TODO *  * @author 刘仲男 81595157@qq.com * @version $Revision$ * @created time 2012-10-10 下午2:10:17  */public final class YoukuService {	private static Map<String, Object> services = new HashMap<String, Object>();	static {		services.put(ILogin.class.getName(), LoginManager.getInstance());		services.put(IHttpRequest.class.getName(), new HttpRequestManager());		// services.put(IDownload.class.getName(),		// DownloadManager.getInstance(Youku.context));	}	private static boolean lock = true;	@SuppressWarnings("unchecked")	public static <T> T getService(Class<T> clazz) {//		if (lock) {//			if (clazz.getName().equals(IDownload.class.getName())//					&& !services.containsKey(IDownload.class.getName())) {//				services.put(IDownload.class.getName(),//						DownloadManager.getInstance(Youku.context));//				lock = false;//			}//		}		return (T) services.get(clazz.getName());	}	/**	 * YoukuService 是否需要提供新对象	 * 	 * @param clazz	 * @param isNeedNewObject	 * @return	 */	@SuppressWarnings("unchecked")	public static <T> T getService(Class<T> clazz, boolean isNeedNewObject) {		if (!isNeedNewObject) {			return getService(clazz);		} else {			try {				Object s = getService(clazz).getClass().newInstance();				return (T) s;			} catch (InstantiationException e) {				Logger.e(Youku.TAG_GLOBAL, "YoukuService#getService()", e);				return null;			} catch (IllegalAccessException e) {				Logger.e(Youku.TAG_GLOBAL, "YoukuService#getService()", e);				return null;			}		}	}}