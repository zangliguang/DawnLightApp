package com.youku.login.widget;import android.app.Dialog;import android.content.Context;import android.os.Bundle;import android.view.WindowManager;import com.example.youkuloginsdk.R;import com.youku.login.util.Logger;import com.youku.login.util.Youku;/** *  * 此类为默认加载对话框，使用直接用show()方法，取消使用dismiss()和remove()方法均可 *  * @author 张宇 * @create-time Jan 17, 2012 3:38:58 PM * @version $Id *  *  */public class YoukuLoading {	private static LoadingDialog mLoadingDialog;	public static void show(Context context) {		if (isShowing() || context == null) {			return;		}		mLoadingDialog = new LoadingDialog(context);		mLoadingDialog.setCanceledOnTouchOutside(false);		mLoadingDialog.show();	}	public static void dismiss() {		if (null != mLoadingDialog && mLoadingDialog.isShowing()				&& null != mLoadingDialog.getWindow()) {			mLoadingDialog.dismiss();		}		mLoadingDialog = null;	}	public static boolean isShowing() {		return null != mLoadingDialog && mLoadingDialog.isShowing();	}	public static void remove() {		dismiss();	}	private static class LoadingDialog extends Dialog {		private Loading loading;		public LoadingDialog(Context context) {			super(context, R.style.LoadingDialog);		}		@Override		protected void onCreate(Bundle savedInstanceState) {			super.onCreate(savedInstanceState);			setContentView(R.layout.loading);			loading = (Loading) findViewById(R.id.newLoading);			getWindow().addFlags(WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL);		}		@Override		public void dismiss() {			try {				super.dismiss();			} catch (Exception e) {				Logger.e(Youku.TAG_GLOBAL,						"YoukuLoading.LoadingDialog#dismiss()", e);			}			loading.stopAnimation();		}		@Override		public void show() {			super.show(); 			loading.startAnimation();		}	} }